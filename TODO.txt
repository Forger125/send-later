Share common code between toolbar and popup.

Stupid interval should be in seconds, not milliseconds.

Send Later column doesn't work in unified Drafts folder.

Bug: You shouldn't be allowed to schedule a message with no recopients
for future sending.

Bug: Send Later column display doesn't work in TB2 when there are no
messages in the folder (produces an error about gDBView not having any
properties). This is fine until you save a message into the folder, at
which point the Send Later column should become visible but
doesn't. If you leave and come back to the folder once or twice the
problem solves itself. Not sure this is worth fixing.

Scheduling entry improvements:

* Add buttons on pop-up to copy current date/time setting to clipboard
  and fetch setting from current clipboard contents, to make it easy
  to schedule multiple messages to be sent at the same time.

* Calendar control pop-up for selecting scheduled date?

* Look into whether it might be possible to use a slider to send the
  scheduled send time instead of drop-downs. (idea from Daniel N. Lang
  [daniel@sonnefueralle.de]).

* Prompt for confirmation if the user tries to "schedule" a message
  but the time specified is now or in the past.

* Allow user to specify period of recurrence, e.g., every 2 weeks
  instead of weekly, every 6 months instead of monthly, or perhaps
  even ever 0.5 weeks.

Need to figure out why Enigmail is bypassed when Send Later 3 is used.

Make the shortcut buttons and detailed drop-downs separate toolbar
customization items rather than one big chunk, so that people can
decide by drag-and-drop which buttons to include (rather than using
checkboxes in the prefs) and put the buttons wherever they want on the
toolbar.

Enable the standard "Send Later" button, which is currently only
enabled when working offline.

Investigate why DispMUA 1.6.5 doesn't work in TB2 when Send Later 3 is
installed.

If user has not yet entered master password in current Thunderbird
setting when message is scheduled to be sent, user gets prompted for
it, and if he's not there, the mail won't get sent. Need to look into
prompting for master password if needed when message is
scheduled. Other issue: can't save the password, so what if user
schedules message and then exits Thunderbird and restarts it later
without entering master password? Maybe need to have the backgrounding
process notice that master password is needed and prompt for it
whenever there are scheduled messages.

TODO: Seamonkey compatibility?
