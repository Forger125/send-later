Share common code between toolbar and popup.

Stupid interval should be in seconds, not milliseconds.

Should Send Later mark a message "replied" or "forwarded" when sending
a delayed reply/forward?

Send Later column doesn't work in unified Drafts folder.

Fix intermittent bug with Send Later column not working in drafts
folder.

Make it harder to accidentally press Send instead of Send Later once a
message has been scheduled (i.e., once the settings in the toolbar
have been modified or a previously scheduled draft is
re-edited). Possibly also optionally allow the default behavior of the
Send button to be Send Later, with perhaps a Shift modifier to get the
original behavior.

Bug: You shouldn't be allowed to schedule a message with no recopients
for future sending.

Bug: Send Later column display doesn't work in TB2 when there are no
messages in the folder (produces an error about gDBView not having any
properties). This is fine until you save a message into the folder, at
which point the Send Later column should become visible but
doesn't. If you leave and come back to the folder once or twice the
problem solves itself. Not sure this is worth fixing.

Add buttons on pop-up to copy current date/time setting to clipboard
and fetch setting from current clipboard contents, to make it easy to
schedule multiple messages to be sent at the same time.

Prompt for confirmation if the user tries to "schedule" a message but
the time specified is now or in the past.

Need to figure out why Enigmail is bypassed when Send Later 3 is used.

Look into whether it might be possible to use a slider to send the
scheduled send time instead of drop-downs. (idea from Daniel N. Lang
[daniel@sonnefueralle.de]).
